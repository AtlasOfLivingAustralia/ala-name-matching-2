dist: trusty
sudo: required
language: java
jdk:
- oraclejdk11
branches:
  only:
  - master
before_install:
- mkdir -p ~/.m2; wget -q -O ~/.m2/settings.xml https://raw.githubusercontent.com/AtlasOfLivingAustralia/travis-build-configuration/master/travis_maven_settings_simple.xml
- chmod a+x scripts/travis-setup.sh
- scripts/travis-setup.sh
- cd $TRAVIS_BUILD_DIR
script:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then mvn -DargLine="-DTRAVIS=yes" -P travis clean install deploy; else travis_wait mvn -DargLine="-DTRAVIS=yes" -P travis clean install; fi
env:
  global:
  - TMP_DIR=/data/tmp INDEX_DIR=/data/lucene INDEX_VERSION=20230725-5 DATA_BUCKET=ala-nameindexes AWS_AP=
  - secure: 4Mmizr2NP+Dhj9R8hFUoMG4R7iTV/j2DPn/+pfGHngKClF8tDZemhLMGsVsi0nmgF+wHKiGLGuYQ9G9ecX2S/wLSFUkVQd/1FLvVm5zmO1ezVSGbsTJmceenEdQ4/vHre+8UJAKeqxFpyLAWhHeZExxZ28nxyZy9yPlu9OtUhZtO88VbeByp6VYI9FOoAl51l/7b7Dh9pnYJcN6Ckv8p80GFloWX+QaBH6lggZTvRMhlijo9Wush3P7f5qTdXjF8LJ1LKhpUdatctaiEVKod4ZkaKid+UR/RpXkguQ1M0gHFAbkVEMFPHFsMI1d9MELpmkgcuB8jiXcz5D4jmv7rz0yKd21/Z8rddXonKxeBJuwB6QnFkTNLfP9zS7poK1qJ1K7GBP1ZkWPP0ePW/XPC8zLh65T9LkdHfuCAvzRI8PKU+8uVav0Mdz2DY36U4qO5udlphbA6krqQbAQmZv2xd6ydspHPlDuCGAJcCzh8badDZlOVMx92SfriBPPqiUn8P2Up4V0FOlZyogZxMv5dXYymG8LoUmdGlZ+Mmur4mZnP34dAn8ThVzl0BGOJAIJrwHEqYMBf80M9+uQzKH9HWvvqWQGTcabgBjwqti6EUE1CXSDvC2kxPwD2B6c2GWy2ZvgFPlG4WTWNBXYHkEca/Jv0vB/RahiQF5tNWadBk2M=
  - secure: K1y6Wlc7h1ExjZ5WsyWU/V0dZEpDga6NuKVFjP0mDDn8L9MqsOQGmJhDEwJ5hHBqhKP/rm0sSLQSFnLdDz1X7v0kD2FhOCGR1APHu9PZmflZhr7FaSRdXOHiCsYp45C818WHe9+k5cJvzxbx3xXOXPM6cbp57RxVAfdymV6aoVotkm9id9Xxls7pP6hXXWfV18qR+XbTQFjXsJBYVKKgg8qjO/QG8+hJBiP+gocOUc/q/VlQnl+ROt9utLRV+aCdaDlo/io6FFk13UJ9/wybqo1ErpY1n9WL4vvSaJPAQMiZCVGYTj4BkJGx0XmD34fjZp18WOpnC6OyVrOEPDnyeutVVi9MrJ5EB/LDiLe1VMu6q7V2lYkdG62COCyuusgV9cehv5mGFlxLrFLTiKRyyiKoX5JJ4vY7fXTUINKrIjjnYn+YrZHD+8PvPWNjAPKES5kZ3H0eysIlHUVgRgQKB0aMO73z8mqLOOCkRmFNRqiQJLqj8+8uP3vtN4+JQHx1wwdrPl4VKxX2+aFQiEmE2CYd3o5voysVc3WBlmCjtMJfbFsE2uyL9zeCE5buBICSdXtQF1Yol1IyaiQr7uA1t4PiPZdG2fM9a41d6DtLw8ra4zw6xKha8InO79Xupo9ELTtMwc8k0wxDVzJeSKp2exZKG34R+zBmV4oA2xofaU8=
